{% extends 'base.html' %}
{% block content %}
<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
<div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
      {% for item in items %}
            <div class="carousel-item{% if forloop.first %} active{% endif %}">
              <img src="{{ item.image_url }}" class="catalog-image d-block w-100" alt="">
             <div class="carousel-caption d-none d-md-block bg-secondary rounded w-50 p-3 mx-auto" style="--bs-bg-opacity: .5;">
               <h5>{{ item.name }}</h5>
               <p>{{ item.description | truncatechars:100 }}</p>
             </div>
            </div>
      {% endfor %}
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span aria-hidden="true"><i class="bi bi-caret-left-fill text-secondary" style="font-size: 2rem;"></i></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span aria-hidden="true"><i class="bi bi-caret-right-fill text-secondary" style="font-size: 2rem;"></i></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<div class="most-views row row-cols-md-auto">
    {% for item in most_viewed_items %}
        <a href="/items/{{ item.id }}" class="card mx-auto my-5 p-0 catalog-image-views">
            <img class="card-img" src="{{ item.image_url }}" alt="{{ item.name }}-image">
            <div class="card-img-overlay d-flex flex-column">
                <div class="mt-auto text-center" style="color: white;">
                    <h5 class="card-title m-0">{{ item.name }}</h5>
                    <p class="card-text m-0">Skoðað: {{ item.views }} sinnum</p>
                </div>
            </div>
        </a>
    {% endfor %}
</div>
{% endblock %}